<!DOCTYPE html>
<html lang="en">
<head> <!-- same head + CSS -->
  <script>
    function selectGrade(g) {
      document.getElementById('grade').value = g;
      document.querySelectorAll('.grade-btn').forEach(b=>b.classList.remove('active'));
      document.querySelector('.grade-btn[data-val="'+g+'"]').classList.add('active');
    }
    function selectNum(n) {
      document.getElementById('num').value = n;
      document.querySelectorAll('.num-btn').forEach(b=>b.classList.remove('active'));
      document.querySelector('.num-btn[data-val="'+n+'"]').classList.add('active');
    }
    function showSpinner(btn) {
      btn.disabled=true;
      document.getElementById('spinner').style.display='flex';
    }
  </script>
</head>
<body>
  <div id="spinner" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.8);align-items:center;justify-content:center;z-index:1000;">
    <div style="border:8px solid #f3f3f3;border-top:8px solid #007BFF;border-radius:50%;width:60px;height:60px;animation:spin 1s linear infinite;"></div>
  </div>
  <form action="/start" method="post" onsubmit="showSpinner(this.querySelector('button'))">
    <input type="hidden" name="grade" id="grade" value="3">
    <div>
      <h3>Select Grade</h3>
      {% for g in [1,2,3,4,5] %}
        <button type="button" onclick="selectGrade({{g}})" class="grade-btn" data-val="{{g}}">{{g}}</button>
      {% endfor %}
    </div>
    <input type="hidden" name="num" id="num" value="2">
    <div>
      <h3>Number of Questions</h3>
      {% for n in [2,5,10,15,20,25] %}
        <button type="button" onclick="selectNum({{n}})" class="num-btn" data-val="{{n}}">{{n}}</button>
      {% endfor %}
    </div>
    <div>
      <label>Topic:
        <select name="topic"><option value="language">Language</option><option value="math">Math</option></select>
      </label>
    </div>
    <button type="submit">Start Quiz</button>
  </form>
</body>
</html>
